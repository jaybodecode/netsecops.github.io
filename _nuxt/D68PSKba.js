import{_ as k}from"./CYLgDeRt.js";import{_ as U}from"./CHWp06qG.js";import{_ as T}from"./DtnbRUAv.js";import{h as D,j as f,e as N,D as F,x as b,o as s,w as h,a as o,c as n,b as g,F as c,q as i,p as v,t as d,n as p,E as M}from"#entry";import{_ as R}from"./DlAUqK2U.js";const j={class:"p-6"},A={class:"flex items-center gap-3 mb-4"},B={key:0,class:"space-y-3"},E={key:1,class:"space-y-3"},L={class:"p-3 bg-gray-800/50 rounded-lg border border-yellow-500/20 hover:border-yellow-500/60 hover:bg-gray-800/80 transition-all"},V={class:"flex items-start gap-2 mb-2"},Y={class:"text-sm text-gray-200 font-semibold line-clamp-2 group-hover:text-yellow-400 transition-colors"},I={class:"flex items-center gap-2 flex-wrap text-xs ml-4"},S={class:"flex items-center gap-1 text-gray-500"},$={key:1,class:"flex items-center gap-1 flex-wrap"},q={key:0,class:"px-2 py-0.5 bg-gray-700/50 text-gray-400 rounded text-xs"},z={key:2,class:"flex items-center gap-1 flex-wrap"},H={key:2,class:"text-center py-8 text-gray-500"},O=D({__name:"CyberRecentUpdates",setup(Z){const m=f(null),y=f(!0),x=N(()=>m.value?.articles?.updated||[]),w=async()=>{try{const a=await fetch("/data/last-updates.json");if(!a.ok)throw new Error("Failed to fetch recent updates");m.value=await a.json()}catch(a){console.error("Error fetching recent updates:",a)}finally{y.value=!1}},C=a=>{if(!a)return"N/A";try{const t=new Date(a),l=new Date,u=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e=Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate())-u,r=Math.floor(e/(1e3*60*60*24));return r===0?"Today":r===1?"Yesterday":r<7?`${r}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"})}catch{return"N/A"}};return F(()=>{w()}),(a,t)=>{const l=k,u=U,_=T;return s(),b(_,{variant:"orange",class:"h-fit"},{default:h(()=>[o("div",j,[o("div",A,[g(l,{name:"heroicons:arrow-path-20-solid",class:"w-6 h-6 text-yellow-400 spinning-icon"}),t[0]||(t[0]=o("h2",{class:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400"}," Recent Updates ",-1))]),t[4]||(t[4]=o("p",{class:"text-gray-300 mb-4 text-sm"}," Latest updated security articles ",-1)),y.value?(s(),n("div",B,[(s(),n(c,null,i(5,e=>o("div",{key:e,class:"p-3 bg-gray-800/50 rounded-lg border border-gray-700 animate-pulse"},[...t[1]||(t[1]=[o("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"},null,-1),o("div",{class:"h-3 bg-gray-700 rounded w-1/2"},null,-1)])])),64))])):v(x).length>0?(s(),n("div",E,[(s(!0),n(c,null,i(v(x),e=>(s(),b(u,{key:e.slug,to:`/articles/${e.slug}/`,class:"block group"},{default:h(()=>[o("div",L,[o("div",V,[t[2]||(t[2]=o("div",{class:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse mt-1.5 flex-shrink-0"},null,-1)),o("span",Y,d(e.updateTitle||e.originalHeadline),1)]),o("div",I,[o("div",S,[g(l,{name:"heroicons:clock-20-solid",class:"w-3 h-3"}),o("span",null,d(C(e.updatedAt||"")),1)]),e.severity?(s(),n("span",{key:0,class:M(["px-2 py-0.5 rounded text-xs font-bold uppercase",e.severity==="critical"?"bg-red-500/20 text-red-400":e.severity==="high"?"bg-orange-500/20 text-orange-400":e.severity==="medium"?"bg-yellow-500/20 text-yellow-400":e.severity==="low"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"])},d(e.severity),3)):p("",!0),e.cves&&e.cves.length>0?(s(),n("div",$,[(s(!0),n(c,null,i(e.cves.slice(0,2),r=>(s(),n("span",{key:r,class:"px-2 py-0.5 bg-red-500/20 border border-red-500/50 text-red-300 rounded text-xs font-mono font-semibold"},d(r),1))),128)),e.cves.length>2?(s(),n("span",q," +"+d(e.cves.length-2),1)):p("",!0)])):p("",!0),e.categories&&e.categories.length>0?(s(),n("div",z,[(s(!0),n(c,null,i(e.categories.slice(0,2),r=>(s(),n("span",{key:r,class:"px-2 py-0.5 bg-orange-500/20 border border-orange-500/50 text-orange-300 rounded text-xs font-semibold uppercase"},d(r),1))),128))])):p("",!0)])])]),_:2},1032,["to"]))),128))])):(s(),n("div",H,[g(l,{name:"heroicons:document-text-20-solid",class:"w-12 h-12 mx-auto mb-2 opacity-50"}),t[3]||(t[3]=o("p",{class:"text-sm"},"No recent updates",-1))]))])]),_:1})}}}),W=Object.assign(R(O,[["__scopeId","data-v-0d416816"]]),{__name:"CyberRecentUpdates"});export{W as default};
